easyblock = 'BinariesTarball'

name = 'Kent_tools'
version = '20180716'
versionsuffix = '-linux.x86_64'

homepage = 'http://genome.cse.ucsc.edu/'
description = """Kent tools: collection of tools used by the UCSC genome browser."""

toolchain = {'name': 'dummy', 'version': 'dummy'}

# Check the last modified date at http://hgdownload.cse.ucsc.edu/admin/exe/linux.x86_64
# Then and pack into tarball with:
#   mkdir Kent_tools
#   rsync -aP rsync://hgdownload.soe.ucsc.edu/genome/admin/exe/linux.x86_64/ Kent_tools
#   tar cfvz Kent_tools-20180716.tar.gz Kent_tools
#
# NOTE: The generated archive will have a different checksum every time it is generated,
#       even for the same version. Inject your own checksum here.
#
sources = [SOURCE_TAR_GZ]
checksums = ['d73f3c733605923315edebd4d8abeec1cabd9f57ce990c8755a1daacbac5a348']

postinstallcmds = [
    "cp -a %(builddir)s/Kent_tools/blat/{blat,gfClient,gfServer} %(installdir)s/bin",
    "cp -a %(builddir)s/Kent_tools/blat/FOOTER.txt %(installdir)s/bin/FOOTER_blat.txt",
]

sanity_check_paths = {
    'files': ['bin/blat', 'bin/getRna', 'bin/liftOver', 'bin/mafGene', 'bin/splitFile', 'bin/twoBitToFa'],
    'dirs': [],
}

moduleclass = 'bio'
